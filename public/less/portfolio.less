// main: styles.less
@import (reference) "variables.less";


/*##################
 * Gallery Style
 #################*/

.galleryColumns (@i, @ratio) when (@i > 1) {
    &:first-child:nth-last-child(@{i}),
    &:first-child:nth-last-child(@{i}) ~ a {
        width: 100% / @i;
        div {
            padding-top: @ratio;
        }
    }
    
    .galleryColumns(@i - 1, @ratio);
}

.galleryColumns (@i, @ratio) when (@i =1) {
    &:first-child:nth-last-child(@{i}),
    &:first-child:nth-last-child(@{i}) ~ a {
        width: 100% / @i;
        div {
            padding-top: @ratio;
        }
    }
}

.gallery-group {
    position: relative;
    width: 100%;
    overflow: hidden;
    display: flex;
    flex-wrap: wrap;
    margin: 0;
    a {
        display: block;
        padding: .4rem!important;
        
        @i: 4;
        @ratio: 66.6%;
        .galleryColumns(@i, @ratio);
        @media @mobile {
            &:first-child:nth-last-child(4), &:first-child:nth-last-child(4) ~ a {
                width: 50%;
                div {
                    padding-top: @ratio;
                }
            }
        }
        div {
            width: 100%!important;
            background-size: cover;
            background-position: center center;
        }
        &.large {
            position: relative;
            top: 0px;
            margin-left: auto;
            width: 66.5%!important;
            div {
                padding-top: @ratio!important;
            }
        }
        &.small {
            position: absolute;
            left: 0px;
            width: 33.5%!important;
            height: 50%;
            div {
                padding: 0%!important;
                height: 100%;
            }
            &:nth-of-type(2) {
                bottom: 0px;
            }
            &.right {
                position: absolute;
                right: 0px;
                margin-left: auto;
            }
        }
        &.small:not(.tall) {
            @media @phone {
                position: relative;
                display: inline-block;
                width: 50%!important;
                div {
                    padding-top: @ratio!important;
                }
                + .large {
                    width: 100%!important;
                    div {
                        padding-top: @ratio!important;
                        width: 100%!important;
                    }
                }
            }
        }
        /* .small:not(.tall) */
        &.tall {
            height: 100%;
            @media @mobile {
                + .large {
                    position: relative;
                    top: 0px;
                    margin-left: auto;
                    width: 66.5%!important;
                    div {
                        padding-top: @ratio!important;
                    }
                }
            }
        }
        /* .tall */
        &.left {
            left: 0px!important;
            margin: 0px!important;
        }
        /* .left */
    }
    /* a */
}

/* .gallery-group */
// Gallery Hover Overlay
.gallery-group {
    a {
        opacity: 1;
        transition: .5s all cubic-bezier(.23, .71, .63, .92);
        &:after {
            display: block;
            font-family: 'FontAwesome';
            content: '\f002';
            font-size: 4rem;
            text-align: center;
            color: white;
            height: 4rem;
            width: 100%;
            position: absolute;
            top: 50%;
            left: 0;
            margin-top: -2rem;
            opacity: 0;
            transition: .5s all cubic-bezier(.23, .71, .63, .92);
            
            @media @notMobile { font-size: 6rem; }
        }
        
        &:hover {
            opacity: .5;
            &:after {
                opacity: 1;
            }
        }
        &.video {
            &:after {
                content: '\f16a'!important;
            }
        }
    }
    /* a */
}
